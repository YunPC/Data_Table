# 접근성 높은 테이블 마크업

## 테이블이란

HTML에서 만드는 표로, 2차원으로 나뉜 공간에 행이나 열을 따라 데이터를 분류하여 보여줄 수 있다.

### HTML과 테이블

테이블에 관련된 요소는 다음과 같다.

|태그명|역할|
|----|----|
|`<table>`|표를 만든다.|
|`<caption>`|표의 제목을 지정한다.|
|`<colgroup>`|열을 묶는 그룹을 지정한다.|
|`<col>`|`<colgroup>`요소에 속하는 각 열의 속성을 정의한다.|
|`<thead>`|표의 헤더에 속하는 영역을 나타내는 태그(머리글)|
|`<tbody>`|표의 본문에 해당하는 태그(실제적인 값)|
|`<tfoot>`|표의 푸터에 속하는 영역을 나타내는 태그(ex.합계, 평균)|
|`<tr>`|표의 행을 나타내는 태그|
|`<td>`|표의 열을 나타내는 태그|

### table, tr, th, td

테이블은 다음과 같은 상위 계층을 가진다.

- `table` (테이블)
    + `tr` (테이블의 열)
        - `th` (데이터 테이블의 제목 셀)
        - `td` (테이블의 내용 셀)

이러한 계층을 가질 때, `th` 요소에 `scope`속성을 사용하여 이 제목 셀이 어느 영역의 제목인지 알려줄 수 있다(ex. `scope="row"`, `scope="col"`). `row`, `col`말고도 `rowgroup`이나 `colgroup`으로 지정할 수 있다.

`td`의 경우 HTML5에서 제목을 주더라도 아웃라인에 영향을 주지 않는다.

여러 셀을 병합하고자 할 땐, 병합 방향에 따라 `rowspan`과 `colspan`을 이용하여 병합할 수 있다.

### caption

표에 대한 전체적인 요약을 적는 태그이다. 사용할 경우 `table`태그 바로 밑에 작성해야한다. 하지만 필수 요소는 아니다. `caption`태그는 `figure`의 `figcaption`대신 사용할 수 있다.

### colgroup, col

열은 하나씩 분리되어있지만, 임의의 열들이 서로 상관관계를 가지고 있다면 `colgroup`으로 마크업할 수 있다. 이 요소는 `caption`태그 다음에 사용해야 하며, `thead`, `tbody`, `tfoot`보다는 앞서서 써야 한다.

### thead, tbody, tfoot

`thead`, `tbody`, `tfoot`는 표를 행을 기준으로 하여 나눴을 때 구분되는 요소들이다. `thead`는 제목열, `tbody`는 표의 본문, `tfoot`은 소계, 합과 같은 요약된 열을 나타낸다.

`tbody`같은 경우 필수요소이지만, 작성하지 않아도 대부분의 브라우저에서는 이 요소가 있다고 가정하고 DOM을 구성한다.

마크업은 `thead`, `tbody`, `tfoot`(마지막 두 요소는 바뀔 수 있다.)순서로 진행할 수 있다. 순서에 상관없이 렌더링은 `tfoot`을 가장 마지막으로 한다.

> **thead, tfoot요소의 장점**
브라우저에 있는 표의 데이터 양이 많을 경우 스크린 리더는 이를 일일히 접근해야 한다. 하지만 헤더요소와 푸터요소를 미리 정의한다면, 이들 만에 대한 접근이 가능하기 때문에 표를 요약하면서 볼 수 있다.

### scope, id, headers

시각으로 브라우저를 보는 사람들은 제목행이나 열이 차지하는 범위를 손쉽게 알 수 있지만, 스크린 리더를 사용하면 모든 셀에 왼쪽에서 오른쪽으로 접근해야 하기 때문에 정보를 유기적으로 연결하기 힘들다. 이 때문에 `th`요소에 `scope`속성을 사용하면 청각으로도 정보를 구조적으로 전달받을 수 있다.

> **scope속성과 headers속성의 중복 사용**
정보를 중복하여 보여줄 필요가 없기 때문에 자신의 컨벤션에 맞게 작성하면 된다. 하지만 셀 제목 구조 자체가 복잡해지는 경우 `headers`나 `id`를 사용하여 관계를 명확히 정해주는 것이 좋다.

### id, headers 속성을 이용한 접근성 높은 테이블 마크업

`summary`속성이 있지만 이는 표준이 아니다. 따라서 `figure`, `figcatipn`, `aria-describedy`로 요약정보를 제공하는 단락에 연결하거나 `caption` 요소 내에 포함해서 제공할 수 있다.

> **Table 내의 내용이 없는 셀 표현**
값이 없는 셀을 표현할 때 빈 셀로 표현하면 테이블 구조를 이해하는데 어려움을 줄 수 있다. 이 때에는 데이터가 없다는 내용을 포함한 뒤, CSS에서 이를 숨김처리하는 것이 바람직히다.

#### 

테이블 내용에 대한 구체적인 예시는 [블로그](https://seulbinim.github.io/WSA/table.html#scope-id-headers-속성)를 참고하길 바란다.

## 접근성을 고려한 테이블 생성 예시

우체국 택배의 [요금안내](https://parcel.epost.go.kr/parcel/use_guide/charge_1.jsp#contents_layout3)창에 나와있는 표를 예시로 하였다.

### 우체국택배(방문접수)

데이터 간의 연관성을 고려하면 아래와 같은 그림으로 나타낼 수 있다.

![우체국택배(방문접수) 데이터 연관성 표](./images/table1.png)

<figcaption>우체국택배(방문접수) 데이터 연관성 표</figcaption>

이에 따라 html 마크업을 아래와 같이 하였다.

```html
<h1>우체국 택배 요금 안내</h1>

    <h2>우체국택배(방문접수)</h2>
    <table>
        <caption>우체국택배(방문접수) 요금표</caption>
        <thead>
            <!-- 빨간색 행 영역 및 보라색 영역 정의 -->
            <tr>
                <th scope="row" colspan="2">구 분<br>(초과 ~ 이하)</th>
                <th scope="col">5kg 이하<br>(80cm 이하)</th>
                <th scope="col">5kg∼10kg<br>(80㎝∼100㎝)</th>
                <th scope="col">10kg∼20kg<br>(100㎝∼120㎝)</th>
                <th scope="col">20kg∼30kg<br>(120㎝∼160㎝)</th>
            </tr>
        </thead>
        <tbody>
            <!-- 주황색 행 영역 정의 -->
            <tr>
                <th scope="row" colspan="2">익일배달</th>
                <td>5,000</td>
                <td>8,000</td>
                <td>10,000</td>
                <td>12,000</td>
            </tr>
            <!-- 초록, 하늘, 파랑 행 영역 정의 -->
            <tr>
                <th scope="rowgroup" rowspan="2">제주</th>
                <!-- 하늘색 행 영역 정의 -->
                <th scope="row">익일 배달</th>
                    <td>7,500</td>
                    <td>10,500</td>
                    <td>12,500</td>
                    <td>14,500</td>
            </tr>
            <tr>
                <!-- 파랑색 행 영역 정의 -->
                <th scope="row">D+2일 배달</th>
                    <td>5,000</td>
                    <td>8,000</td>
                    <td>10,000</td>
                    <td>12,000</td>
            </tr>
        </tbody>
    </table>
```

